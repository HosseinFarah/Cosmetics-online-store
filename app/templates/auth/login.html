{%extends 'base.html'%} {%block content%}
<div class="container d-flex justify-content-center align-items-center">
  <div class="row w-100 d-flex justify-content-center">
    <div class="col-lg-5 col-md-6 col-sm-12 align-self-center justify-content-center">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">{{ _('Login') }}</h3>
        </div>
        <div class="panel-body">
          <form
            method="POST"
            novalidate
            class="needs-validation"
            enctype="multipart/form-data"
          >
            {{ form.hidden_tag() }}
            <div class="form-group">
              {{ form.email.label(class="form-label") }} {{
              form.email(class="form-control") }}
              <div class="invalid-feedback">
                {{ _('Please provide a valid email address.') }}
              </div>
              {% for error in form.email.errors %}
              <span class="invalid-feedback">{{ _('Please provide a valid email address.') }}</span>
              {% endfor %}
            </div>
            <div class="form-group">
              {{ form.password.label(class="form-label") }} {{
              form.password(class="form-control") }}
              <div class="invalid-feedback">
                {{ _('Please provide a valid password.') }}
              </div>
              {% for error in form.password.errors %}
              <span class="invalid-feedback">{{ _('Please provide a valid password.') }}</span>
              {% endfor %}
            </div>
            <div class="form-group">
              <div class="form-check">
                {{ form.remember(class="form-check-input") }} {{
                form.remember.label(class="form-check-label") }}
              </div>
            </div>

            <div class="form-group">
              {{ form.submit(class="btn login-btn") }}
            </div>
          </form>
          <hr />
          <a href="{{ url_for('auth.register') }}">{{ _('Register') }}</a>
          <br />
          <a href="{{ url_for('auth.reset_password_request') }}">{{ _('Forgot Password') }}</a>
        </div>
      </div>
    </div>
    <div class="col-lg-6 col-md-5 col-sm-11 ms-5 mt-2 justify-content-center align-self-center">
      <div class="panel panel-default">
        <div class="panel-heading">
          <img
            src="{{ url_for('static', filename='uploads/site/login.jpg') }}"
            alt="{{ _('logo') }}"
            class="img-fluid shadow-lg"
            style="max-width: 70%; border-radius: 5%;"
          />
        </div>
      </div>
    </div>
    <script>
      (function () {
        "use strict";
        window.addEventListener(
          "load",
          function () {
            var forms = document.getElementsByClassName("needs-validation");
            var validation = Array.prototype.filter.call(
              forms,
              function (form) {
                form.addEventListener(
                  "submit",
                  function (event) {
                    if (form.checkValidity() === false) {
                      event.preventDefault();
                      event.stopPropagation();
                    }
                    form.classList.add("was-validated");
                  },
                  false
                );
              }
            );
          },
          false
        );
      })();
    </script>
  </div>
</div>
{%endblock%}
